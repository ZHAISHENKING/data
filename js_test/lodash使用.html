<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
<script>
/*
    需求： 将多维数组平铺并去重
*/
void function (){
    const arr = [1,2,[1,4,3],5,2,[1,2]]
    let arr1 = _.flattenDeep(arr)
    arr1 = _.uniq(arr1)
    console.log(arr1)
}()

/*
 使用_.after,循环结束后执行语句
*/
void function () {
    const arr = [{name: 'xiao', age: '13'},{name: 'li', age:'14'}, {name: 'ha', age:'14'}]
    let len = arr.length;
    let done = _.after(len, ()=>{console.log("任务结束")})

    _.forEach(arr, (o)=>{
        console.log(o.name);
        done()
    })
}()
// xiao li ha 任务结束

/* 
柯里化_.curry使用
*/
void function(){
    let abc = (a,b,c)=>{return [a,b,c]}
    let curried = _.curry(abc)
    let curr = _.curryRight(abc)
    console.log(curried(1)(2)(3))   // [1,2,3]
    console.log(curried(1)(2))  // (a,b,c) => {return [a,b,c]}
    console.log(curried(1,2)(3))    // [1,2,3]
    console.log(curr(3,2,1))    //  [3,2,1]
    console.log(curr(3)(2)(1))  // [1,2,3]
    console.log(curr(2,3)(1))   // [1,2,3]
}()
</script>